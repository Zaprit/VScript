VSC.compileSource(){
 # If we are doing a single file compile
 if ! [ -f build.conf ]
 then
  SRC_FILE=${1%.*}
  rm $SRC_FILE.vsa    
  # Import Handling
  # Get all imports from file after making sure that we have imports.
  if [ "$(VSC.getImports $SRC_FILE.vss)" != "" ]
  then
   for import in $(VSC.getImports "$SRC_FILE".vss) 
   do
    # If the import actually exists
    if resolveImport "$import"
    then
     # Capture the import location, Write down that we found it, and if we haven't already imported it then import it into the class
     IMPORT_LOC = $(VSC.resolveImportPath "$import")
     if ! $(echo $ADDEDIMPORTS | grep $import)
     then 
      ADDEDIMPORTS = "$ADDEDIMPORTS $import"
      cat $IMPORT_LOC >> $SRC_FILE.vsa
     fi
    fi
   done
  fi
  
  cp $SRC_FILE.vss $SRC_FILE.vsa

  echo "loadedLibs=\"$(echo $ADDEDIMPORTS | tr " " "\n")\"" >> $SRC_FILE.vsa
  echo "loadedMods=\"n/a due to VSC compilation\"" >> $SRC_FILE.vsa

  echo 'if [ "$1" != "--getdata" ]' >> $SRC_FILE.vsa
  echo 'then' >> $SRC_FILE.vsa
  echo 'main $@' >> $SRC_FILE.vsa
  echo 'fi' >> $SRC_FILE.vsa


  # Remove all comments from output class
  sed -i '/^#/d' $SRC_FILE.vsa
  sed -i '/^\<package\>/d' $SRC_FILE.vsa
 #if we are doing a project compile
 else 
  SRC_FILE=$VSC_PROG_NAME

  # Import Handling
  # Get all imports from file after making sure that we have imports.
  if [ "$(VSC.getImports $SRC_FILE)" != "" ]
  then
   for import in $(VSC.getImports "$SRC_FILE") 
   do
    # If the import actually exists
    if resolveImport "$import"
    then
     # Capture the import location, Write down that we found it, and if we haven't already imported it then import it into the class
     IMPORT_LOC = $(VSC.resolveImportPath "$import")
     if ! $(echo $ADDEDIMPORTS | grep $import)
     then 
     ADDEDIMPORTS = "$ADDEDIMPORTS $import"
     cat $IMPORT_LOC >> $VSC_PROG_NAME.vsa
     fi
    fi
   done
  fi

  # Remove all comments from output class
  sed -i '/^\<package\>/d' $SRC_FILE.vsa
  sed -i '/^#/d' $VSC_PROG_NAME.vsa    
  echo "loadedLibs=\"$(echo $ADDEDIMPORTS | tr " " "\n")\"" >> $SRC_FILE.vsa
  echo "loadedMods=\"n/a due to VSC compilation\"" >> $SRC_FILE.vsa

  echo 'if [ "$1" != "--getdata" ]' >> $SRC_FILE.vsa
  echo 'then' >> $SRC_FILE.vsa
  echo 'main $@' >> $SRC_FILE.vsa
  echo 'fi' >> $SRC_FILE.vsa

 fi
}
